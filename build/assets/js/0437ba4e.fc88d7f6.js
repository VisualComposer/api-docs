(self.webpackChunktest_docs=self.webpackChunktest_docs||[]).push([[253],{1734:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return r},metadata:function(){return s},toc:function(){return o},default:function(){return u}});var a=n(2122),i=n(9756),l=(n(7294),n(3905)),r={sidebar_position:1},s={unversionedId:"element-structure/element-structure",id:"element-structure/element-structure",isDocsHomePage:!1,title:"Element Structure",description:"Every element is represented with settings files and JS/PHP files. The best way to understand element structure is to clone our",source:"@site/docs/element-structure/element-structure.md",sourceDirName:"element-structure",slug:"/element-structure/element-structure",permalink:"/element-structure/element-structure",editUrl:"https://github.com/VisualComposer/docs/element-structure/element-structure.md",version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/"}},o=[{value:"Settings File",id:"settings-file",children:[{value:"Attributes",id:"attributes",children:[]}]},{value:"Manifest File",id:"manifest-file",children:[]},{value:"Element categories",id:"element-categories",children:[]},{value:"Webpack Configs and Build",id:"webpack-configs-and-build",children:[]}],p={toc:o};function u(e){var t=e.components,n=(0,i.Z)(e,["components"]);return(0,l.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"Every element is represented with settings files and JS/PHP files. The best way to understand element structure is to clone our "),(0,l.kt)("a",{href:"https://github.com/VisualComposer/elementBoilerplate",target:"_blank"},"boilerplate repository on GitHub"),".",(0,l.kt)("p",null,"There are certain files required to build element:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"manifest.json")," \u2013 describes element data, preview, thumbnail, description, category and PHP files;"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"package.json")," \u2013 npm install/update files for required node modules;"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"webpack.config")," \u2013 files to build a component with Webpack;"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Directory {tag}:")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"cssMixins directory")," \u2013 ",(0,l.kt)("a",{parentName:"li",href:"#element-css-mixins"},"cssMixin.pcss"),": POSTCSS file that holds mixin for custom generated style;"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"public directory")," \u2013 may contain custom CSS, JS, and images for public view"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"index.js")," \u2013 the main file, build with Webpack;"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"component.js")," \u2013 ReactJs component contains VCWB editor component. This component is used only in the editor and contains ",(0,l.kt)("a",{parentName:"li",href:"#element-component-methods"},"element built-in methods")," that provide additional functionality."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"settings.json")," \u2013 describes element attributes;"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},".php files")," \u2013 required PHP files (",(0,l.kt)("em",{parentName:"li"},"must be described in ../manifest.json"),");"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"editor.css")," \u2013 CSS files which will be used only in the editor;"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"style.css")," \u2013 CSS files which will be used on the frontend to display content.")),(0,l.kt)("h2",{id:"settings-file"},"Settings File"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("em",{parentName:"p"},"settings.json")," file example:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "output": {\n    "type": "htmleditor",\n    "access": "public",\n    "value": "<p>ElementBoilerplate API. HTML editor also the part of the editor</p>"\n  },\n  "designOptions": {\n    "type": "designOptions",\n    "access": "public",\n    "value": {},\n    "options": {\n      "label": "Design Options"\n    }\n  },\n  "editFormTab1": {\n    "type": "group",\n    "access": "protected",\n    "value": [\n      "output"\n    ],\n    "options": {\n      "label": "General"\n    }\n  },\n  "metaEditFormTabs": {\n    "type": "group",\n    "access": "protected",\n    "value": [\n      "editFormTab1",\n      "designOptions"\n    ]\n  },\n  "relatedTo": {\n    "type": "group",\n    "access": "protected",\n    "value": [\n      "General"\n    ]\n  },\n  "tag": {\n    "access": "protected",\n    "type": "string",\n    "value": "elementBoilerplate"\n  }\n}\n')),(0,l.kt)("p",null,"File ",(0,l.kt)("em",{parentName:"p"},"settings.json")," stores description of attributes and element dependencies. An attribute is an object with a unique key. Attributes have a ",(0,l.kt)("inlineCode",{parentName:"p"},"type"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"access"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"value")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"options")," (",(0,l.kt)("em",{parentName:"p"},"optional"),") properties. ",(0,l.kt)("inlineCode",{parentName:"p"},"access")," represents an ability to change a value of the attribute from the inner part of the system. ",(0,l.kt)("inlineCode",{parentName:"p"},"options")," can differ for different attributes."),(0,l.kt)("h3",{id:"attributes"},"Attributes"),(0,l.kt)("p",null,"There are two types of access of attributes:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Edit form attribute;"),(0,l.kt)("li",{parentName:"ul"},"Meta attribute.")),(0,l.kt)("p",null,"Edit form attributes are those attributes that represent any settings in editForm for a user. The editor has public access to attributes. Each attribute is displayed element form control which can be easily managed by customers with programming knowledge. ",(0,l.kt)("strong",{parentName:"p"},"Public")," attribute values can be accessed in the ",(0,l.kt)("em",{parentName:"p"},"component.js")," file via ",(0,l.kt)("inlineCode",{parentName:"p"},"this.props.atts"),". Each attribute has a type and options. Type is how this attributes will be displayed in editForm and how it will be saved in data storage of edited document. Options property is an object that may contain multiple properties which can extend an attribute."),(0,l.kt)("p",null,"Meta attributes are system attributes with protected access. Meaning that these attributes can\u2019t be edited and are used by the editor. There are following meta attribute keys available:"),(0,l.kt)("p",null,"Attributes may react to self or other attributes value change. The change is defined by the rules set and the action applied when the rule is matched (e.g. toggle attribute may show/hide another attribute field.) Rules and actions are defined under the onChange property within an attribute options property. An attribute may have multiple rules. A rule may have additional options."),(0,l.kt)("h2",{id:"manifest-file"},"Manifest File"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("em",{parentName:"p"},"manifest.json")," file example:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "elements": {\n    "imageGalleryWithTestZoom": {\n      "settings": {\n        "name": "Image Gallery With Test Zoom",\n        "metaThumbnailUrl": "[publicPath]/image-gallery-with-zoom-thumbnail.png",\n        "metaPreviewUrl": "[publicPath]/image-gallery-with-zoom-preview.png",\n        "metaDescription": "A grid type image gallery with a test zoom effect upon hover to catch visitors\' attention."\n      }\n    }\n  },\n  "categories": {\n    "Image gallery": {\n      "elements": [\n        "imageGalleryWithTestZoom"\n      ]\n    }\n  }\n}\n')),(0,l.kt)("p",null,"File ",(0,l.kt)("em",{parentName:"p"},"manifest.json")," stores main meta information about the element:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Tag;"),(0,l.kt)("li",{parentName:"ul"},"Name;"),(0,l.kt)("li",{parentName:"ul"},"Description;"),(0,l.kt)("li",{parentName:"ul"},"Thumbnail/Preview images URLs;"),(0,l.kt)("li",{parentName:"ul"},"The category where the element should be available;"),(0,l.kt)("li",{parentName:"ul"},"phpFiles list of PHP files to be autoloaded on WordPress init.")),(0,l.kt)("aside",{class:"notice"},"Note: The placeholder ",(0,l.kt)("b",null,"[publicPath]")," is required for the Visual Composer modules to automatically replace URL to element (",(0,l.kt)("em",null,"relative to absolute"),")."),(0,l.kt)("h2",{id:"element-categories"},"Element categories"),(0,l.kt)("p",null,"Element category specifies to which category the element belongs. Depending on a category a corresponding icon will be displayed in the Tree View panel and in the element controls when you hover over the element."),(0,l.kt)("p",null,"Element category is specified in the ",(0,l.kt)("em",{parentName:"p"},"manifest.json")," file and should always start with a capital letter. Below is the list of all available categories and how they should be defined, copy and paste to your project:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Row"),(0,l.kt)("li",{parentName:"ul"},"Column"),(0,l.kt)("li",{parentName:"ul"},"Tabs"),(0,l.kt)("li",{parentName:"ul"},"Tab"),(0,l.kt)("li",{parentName:"ul"},"Button"),(0,l.kt)("li",{parentName:"ul"},"Header & Footer"),(0,l.kt)("li",{parentName:"ul"},"Feature"),(0,l.kt)("li",{parentName:"ul"},"Feature section"),(0,l.kt)("li",{parentName:"ul"},"Section"),(0,l.kt)("li",{parentName:"ul"},"Hero section"),(0,l.kt)("li",{parentName:"ul"},"Icon"),(0,l.kt)("li",{parentName:"ul"},"Image Slider"),(0,l.kt)("li",{parentName:"ul"},"Single image"),(0,l.kt)("li",{parentName:"ul"},"Image gallery"),(0,l.kt)("li",{parentName:"ul"},"Text block"),(0,l.kt)("li",{parentName:"ul"},"Misc"),(0,l.kt)("li",{parentName:"ul"},"Pricing table"),(0,l.kt)("li",{parentName:"ul"},"Social"),(0,l.kt)("li",{parentName:"ul"},"Videos"),(0,l.kt)("li",{parentName:"ul"},"WooCommerce"),(0,l.kt)("li",{parentName:"ul"},"Separators"),(0,l.kt)("li",{parentName:"ul"},"Maps"),(0,l.kt)("li",{parentName:"ul"},"Grids"),(0,l.kt)("li",{parentName:"ul"},"_postsGridSources"),(0,l.kt)("li",{parentName:"ul"},"_postsGridItems"),(0,l.kt)("li",{parentName:"ul"},"Toggle"),(0,l.kt)("li",{parentName:"ul"},"Message Box"),(0,l.kt)("li",{parentName:"ul"},"Hover Box"),(0,l.kt)("li",{parentName:"ul"},"WordPress"),(0,l.kt)("li",{parentName:"ul"},"Feature Description"),(0,l.kt)("li",{parentName:"ul"},"Call To Action"),(0,l.kt)("li",{parentName:"ul"},"Empty Space"),(0,l.kt)("li",{parentName:"ul"},"Testimonial"),(0,l.kt)("li",{parentName:"ul"},"Accordions"),(0,l.kt)("li",{parentName:"ul"},"Accordion Section"),(0,l.kt)("li",{parentName:"ul"},"Charts")),(0,l.kt)("h2",{id:"webpack-configs-and-build"},"Webpack Configs and Build"),(0,l.kt)("p",null,"When all settings and components are done need to build element with a help of Webpack. Just use ",(0,l.kt)("inlineCode",{parentName:"p"},"yarn install && yarn build"),"."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"yarn install // Install all the element dependencies (must be same as visualcomposer)")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"yarn build // Build development build")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"yarn watch // Watches & Build development version on file modification")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"yarn build-production // Builds the minified build")))}u.isMDXComponent=!0}}]);